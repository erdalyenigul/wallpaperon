(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{177:function(e,t,r){e.exports=r.p+"img/12ea4f9.svg"},181:function(e,t,r){"use strict";r.r(t);r(37);var o=r(35),c=r.n(o),n={head:function(){return{title:this.categoryName+" wallpapers"}},data:function(){return{loading:!0,searchKey:"",resultPhotos:!1,searchKeyHead:!1,categoryName:"",moreCagetoryBtn:!0,moreSearchBtn:!1,searchPage:0,categoryPage:1}},asyncData:function(e){var t;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(c()({method:"get",url:"https://api.unsplash.com//search/photos/?client_id=ad16b589b46599ef6324e8fa87e302ff86efd9cdc11a7912be306c26fef949b8&per_page=30&query="+e.params.category}).catch((function(e){console.log(e)})));case 2:return t=r.sent,r.abrupt("return",{loading:!1,photos:t.data.results});case 4:case"end":return r.stop()}}))},methods:{getMoreCagetory:function(){var e=this;this.moreCagetoryBtn=!0,this.moreSearchBtn=!1,this.categoryPage++,c()({method:"get",url:"https://api.unsplash.com//search/photos/?client_id=ad16b589b46599ef6324e8fa87e302ff86efd9cdc11a7912be306c26fef949b8&per_page=30&page="+this.categoryPage+"&query="+this.categoryName}).then((function(t){e.photos=[],e.photos=t.data.results,e.searchKeyHead=e.searchKey,window.scrollTo(0,0)})).catch((function(e){console.log(e)}))},getSearch:function(){this.$router.push({name:"search-results",params:{results:this.searchKey}})}},mounted:function(){this.categoryName=this.$route.params.category,this.searchKeyHead=this.categoryName}},h=r(8),component=Object(h.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"content"},[o("div",{staticClass:"middle"},[e.loading?o("div",{staticClass:"loading"},[o("img",{attrs:{src:r(177)}})]):e._e(),e._v(" "),o("div",{staticClass:"search"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.searchKey,expression:"searchKey"}],attrs:{type:"text",placeholder:"Search..."},domProps:{value:e.searchKey},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getSearch(t)},input:function(t){t.target.composing||(e.searchKey=t.target.value)}}}),e._v(" "),o("a",{staticClass:"searchBtn",attrs:{href:"javascript:;"},on:{click:e.getSearch}},[e._v("Search")])]),e._v(" "),e.loading?o("div",{staticClass:"loading"},[o("img",{attrs:{src:r(177)}})]):e._e(),e._v(" "),e.searchKeyHead?o("div",{staticClass:"resultKeyword"},[e._v("Results for "),o("strong",[e._v(e._s(e.searchKeyHead))])]):e._e(),e._v(" "),o("div",{staticClass:"photos"},[e._l(e.photos,(function(e,t){return o("nuxt-link",{key:e.id,staticClass:"imgs",attrs:{to:{name:"photoDetail-id",params:{id:e.id}}}},[o("img",{attrs:{title:e.description,src:e.urls.thumb}})])})),e._v(" "),e.moreCagetoryBtn?o("a",{staticClass:"showMore",attrs:{href:"javascript:;"},on:{click:function(t){return e.getMoreCagetory()}}},[e._v("Show me new photos")]):e._e(),e._v(" "),e.moreSearchBtn?o("a",{staticClass:"showMore",attrs:{href:"javascript:;"},on:{click:function(t){return e.getSearch()}}},[e._v("Show me new photos")]):e._e()],2)])])])}),[],!1,null,null,null);t.default=component.exports}}]);